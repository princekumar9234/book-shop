<%- include('../partials/header') %>

<div class="container" style="max-width: 800px;">
    <div class="glass" style="padding: 3rem;">
        <h2 style="margin-bottom: 2rem;">Your Profile</h2>

        <form action="/dashboard/profile" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label>Name</label>
                <input type="text" class="input-field" value="<%= user.name %>" disabled style="background: #f1f5f9;">
            </div>
            
            <div class="form-group">
                <label>Email</label>
                <input type="text" class="input-field" value="<%= user.email %>" disabled style="background: #f1f5f9;">
            </div>

            <div class="form-group">
                <label for="bio">Bio</label>
                <textarea name="bio" id="bio" rows="4" class="input-field" placeholder="Tell us about yourself..."><%= user.profile && user.profile.bio %></textarea>
            </div>

            <div class="form-group">
                <label for="experience">Experience</label>
                <textarea name="experience" id="experience" rows="3" class="input-field" placeholder="Professional experience..."><%= user.profile && user.profile.experience %></textarea>
            </div>

            <div class="form-group">
                <label for="education">Education</label>
                <input type="text" name="education" id="education" class="input-field" placeholder="University, Year" value="<%= user.profile && user.profile.education %>">
            </div>

            <div class="form-group">
                <label for="skills">Skills (comma separated)</label>
                <input type="text" name="skills" id="skills" class="input-field" placeholder="JavaScript, React, Node.js" value="<%= (user.profile && user.profile.skills) ? user.profile.skills.join(', ') : '' %>">
            </div>

            <div class="form-group">
                <label for="resume">Update Default Resume (PDF)</label>
                <input type="file" name="resume" id="resume" class="input-field" accept=".pdf">
                <% if (user.profile && user.profile.resume) { %>
                    <p style="margin-top: 0.5rem; font-size: 0.8rem;"><a href="/uploads/<%= user.profile.resume %>" target="_blank">View current resume</a></p>
                <% } %>
            </div>

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Update Profile</button>
                <a href="/dashboard" class="btn btn-outline">Back to Dashboard</a>
            </div>
        </form>
    </div>
</div>

<%- include('../partials/footer') %>
